-- snw spamd u! | Baby Light Blue Hub ‚ùÑ‚ú®
-- Spam Hub + Jail After Death/Respawn only on last clicked target in current session
-- Commands execute in order

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

repeat task.wait() until LocalPlayer and LocalPlayer:FindFirstChild("PlayerGui")

-- CONFIG
local TITLE_TEXT = "snw spamd u!"
local COMMANDS = {
    "tiny",
    "morph",
    "balloon",
    "rocket",
    "inverse",
    "jumpscare"
}

-- COLORS
local BABY_BLUE = Color3.fromRGB(200,225,255)
local BABY_BLUE_DARK = Color3.fromRGB(170,205,245)
local BG = Color3.fromRGB(255,255,255)
local BTN = Color3.fromRGB(200,225,255)
local BTN_HOVER = Color3.fromRGB(170,205,245)

-- NOTIFY
local function notify(t,d)
    pcall(function()
        StarterGui:SetCore("SendNotification",{
            Title=t,
            Text=d,
            Duration=3
        })
    end)
end

-- FIND REMOTE
local Remote
task.spawn(function()
    local start = os.clock()
    repeat
        local pkg = ReplicatedStorage:FindFirstChild("Packages")
        if pkg and pkg:FindFirstChild("Net") then
            Remote = pkg.Net:FindFirstChild("RE/AdminPanelService/ExecuteCommand")
        end
        task.wait(0.2)
    until Remote or os.clock()-start > 8
end)

-- CLEAN OLD GUI
pcall(function()
    local old = LocalPlayer.PlayerGui:FindFirstChild("4strxl_spamz_gui")
    if old then old:Destroy() end
end)

-- GUI ROOT
local gui = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
gui.Name = "4strxl_spamz_gui"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true

local main = Instance.new("Frame", gui)
main.Size = UDim2.fromOffset(300,380)
main.Position = UDim2.new(1, -310, 0.5, -190)
main.BackgroundColor3 = BG
main.BorderSizePixel = 0
Instance.new("UICorner", main).CornerRadius = UDim.new(0,14)

local stroke = Instance.new("UIStroke", main)
stroke.Color = BABY_BLUE
stroke.Transparency = 0.25

-- TOP BAR
local top = Instance.new("Frame", main)
top.Size = UDim2.new(1,0,0,38)
top.BackgroundColor3 = BABY_BLUE
top.BorderSizePixel = 0
Instance.new("UICorner", top).CornerRadius = UDim.new(0,14)

-- CHRISTMAS TREE ICON üéÑ
local tree = Instance.new("ImageLabel", top)
tree.Size = UDim2.fromOffset(24,24)
tree.Position = UDim2.fromOffset(12,7)
tree.BackgroundTransparency = 1
tree.Image = "rbxassetid://YOUR_TREE_IMAGE_ID" -- replace with your tree asset ID
tree.ScaleType = Enum.ScaleType.Fit
tree.AnchorPoint = Vector2.new(0,0)

-- TITLE
local title = Instance.new("TextLabel", top)
title.Size = UDim2.new(1,-130,1,0)
title.Position = UDim2.fromOffset(12 + 24 + 6,0) -- accommodate tree width + spacing
title.BackgroundTransparency = 1
title.Text = TITLE_TEXT
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left
title.TextColor3 = Color3.fromRGB(255,255,255)

-- SNOWFLAKE ICON ‚ùÑ
local snowflake = Instance.new("TextLabel", top)
snowflake.Size = UDim2.fromOffset(20,20)
snowflake.Position = UDim2.fromOffset(title.Position.X.Offset + title.TextBounds.X + 10, 19)
snowflake.BackgroundTransparency = 1
snowflake.Text = "‚ùÑ"
snowflake.Font = Enum.Font.GothamBold
snowflake.TextSize = 18
snowflake.TextColor3 = Color3.fromRGB(240,250,255)
snowflake.AnchorPoint = Vector2.new(0.5,0.5)

-- SMOOTH SPIN
local spinTween = TweenService:Create(
    snowflake,
    TweenInfo.new(3, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, -1),
    {Rotation = 360}
)
spinTween:Play()

-- ICE SPARKLE PARTICLES ‚ú®
local function createSparkle()
    local sparkle = Instance.new("TextLabel")
    sparkle.Size = UDim2.fromOffset(6,6)
    sparkle.BackgroundTransparency = 1
    sparkle.Text = "‚ú¶"
    sparkle.Font = Enum.Font.GothamBold
    sparkle.TextSize = 14
    sparkle.TextColor3 = Color3.fromRGB(230,245,255)
    sparkle.AnchorPoint = Vector2.new(0.5,0.5)

    sparkle.Position = UDim2.fromOffset(
        snowflake.Position.X.Offset + math.random(-8,8),
        snowflake.Position.Y.Offset + math.random(-8,8)
    )

    sparkle.Rotation = math.random(0,360)
    sparkle.Parent = top

    local tween = TweenService:Create(
        sparkle,
        TweenInfo.new(math.random(12,18)/10, Enum.EasingStyle.Sine, Enum.EasingDirection.Out),
        {
            TextTransparency = 1,
            Position = sparkle.Position + UDim2.fromOffset(
                math.random(-12,12),
                math.random(-18,-8)
            ),
            Rotation = sparkle.Rotation + math.random(90,180)
        }
    )

    tween:Play()
    tween.Completed:Once(function()
        sparkle:Destroy()
    end)
end

task.spawn(function()
    while snowflake.Parent do
        createSparkle()
        task.wait(0.15)
    end
end)

-- TREE SNOW EFFECT
local function createTreeSnow()
    local s = Instance.new("TextLabel")
    s.Size = UDim2.fromOffset(6,6)
    s.BackgroundTransparency = 1
    s.Text = "‚ùÑ"
    s.Font = Enum.Font.GothamBold
    s.TextSize = 14
    s.TextColor3 = Color3.fromRGB(240,250,255)
    s.AnchorPoint = Vector2.new(0.5,0.5)
    s.Position = UDim2.fromOffset(
        tree.Position.X.Offset + math.random(-12,12),
        tree.Position.Y.Offset + math.random(-12,12)
    )
    s.Rotation = math.random(0,360)
    s.Parent = top

    local tween = TweenService:Create(
        s,
        TweenInfo.new(math.random(1,2)),
        {
            TextTransparency = 1,
            Position = s.Position + UDim2.fromOffset(math.random(-8,8), math.random(-16,-8)),
            Rotation = s.Rotation + math.random(90,180)
        }
    )
    tween:Play()
    tween.Completed:Once(function() s:Destroy() end)
end

task.spawn(function()
    while tree.Parent do
        createTreeSnow()
        task.wait(0.1)
    end
end)

-- REFRESH BUTTON
local refresh = Instance.new("TextButton", top)
refresh.Size = UDim2.fromOffset(78,26)
refresh.Position = UDim2.new(1,-84,0,6)
refresh.Text = "Refresh"
refresh.Font = Enum.Font.Gotham
refresh.TextSize = 14
refresh.TextColor3 = Color3.fromRGB(255,255,255)
refresh.BackgroundColor3 = BABY_BLUE_DARK
refresh.BorderSizePixel = 0
Instance.new("UICorner", refresh).CornerRadius = UDim.new(0,8)

-- MINIMIZE BUTTON
local minBtn = Instance.new("TextButton", top)
minBtn.Size = UDim2.fromOffset(28,26)
minBtn.Position = UDim2.new(1,-30,0,6)
minBtn.Text = "_"
minBtn.Font = Enum.Font.Gotham
minBtn.TextSize = 18
minBtn.TextColor3 = Color3.fromRGB(255,255,255)
minBtn.BackgroundColor3 = BABY_BLUE_DARK
minBtn.BorderSizePixel = 0
Instance.new("UICorner", minBtn).CornerRadius = UDim.new(0,8)

local minimized = false

-- CONTENT
local holder = Instance.new("Frame", main)
holder.Position = UDim2.fromOffset(8,46)
holder.Size = UDim2.new(1,-16,1,-54)
holder.BackgroundTransparency = 1

local list = Instance.new("ScrollingFrame", holder)
list.Size = UDim2.fromScale(1,1)
list.ScrollBarThickness = 6
list.BackgroundTransparency = 1
list.BorderSizePixel = 0

local layout = Instance.new("UIListLayout", list)
layout.Padding = UDim.new(0,6)

-- MINIMIZE
minBtn.Activated:Connect(function()
    minimized = not minimized
    holder.Visible = not minimized
    main.Size = minimized and UDim2.fromOffset(300,38) or UDim2.fromOffset(300,380)
end)

-- DRAGGABLE HUB
do
    local dragging = false
    local dragStartPos = Vector2.new()
    local startPos = UDim2.new()

    top.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStartPos = input.Position
            startPos = main.Position

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    top.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStartPos
            local newX = startPos.X.Offset + delta.X
            local newY = startPos.Y.Offset + delta.Y

            local screenSize = workspace.CurrentCamera.ViewportSize
            newX = math.clamp(newX, 0, screenSize.X - main.AbsoluteSize.X)
            newY = math.clamp(newY, 0, screenSize.Y - main.AbsoluteSize.Y)

            main.Position = UDim2.fromOffset(newX, newY)
        end
    end)
end

-- SPAM LOGIC
local lastTarget
local function spamPlayer(plr)
    if not Remote then
        notify(TITLE_TEXT,"Remote not ready")
        return
    end

    lastTarget = plr

    for _,cmd in ipairs(COMMANDS) do
        pcall(function() Remote:FireServer(plr, cmd) end)
    end
    notify("Sent","Spammed @"..plr.Name.." (all commands once)")

    local function trackRespawn(char)
        local humanoid = char:WaitForChild("Humanoid",5)
        if not humanoid then return end

        humanoid.Died:Once(function()
            plr.CharacterAdded:Wait()
            local newChar = plr.Character
            if newChar and plr == lastTarget and Players:FindFirstChild(plr.Name) then
                task.wait(0.1)
                if Remote then
                    pcall(function() Remote:FireServer(plr,"jail") end)
                    task.wait(1.2)
                    pcall(function() Remote:FireServer(plr,"ragdoll") end)
                    notify(TITLE_TEXT,"@"..plr.Name.." jailed & ragdolled")
                end
                lastTarget = nil
            end
        end)
    end

    if plr.Character then
        trackRespawn(plr.Character)
    end
    plr.CharacterAdded:Connect(trackRespawn)

    plr.AncestryChanged:Connect(function(_, parent)
        if not parent and lastTarget == plr then
            lastTarget = nil
        end
    end)
end

-- UI HELPERS
local function section(text)
    local l = Instance.new("TextLabel")
    l.Size = UDim2.new(1,-6,0,26)
    l.BackgroundTransparency = 1
    l.Text = text
    l.Font = Enum.Font.GothamBold
    l.TextSize = 13
    l.TextXAlignment = Enum.TextXAlignment.Left
    l.TextColor3 = Color3.fromRGB(120,120,120)
    return l
end

local function spamButton(plr)
    local b = Instance.new("TextButton")
    b.Size = UDim2.new(1,-6,0,34)
    b.Text = "  @"..plr.Name
    b.TextXAlignment = Enum.TextXAlignment.Left
    b.Font = Enum.Font.Gotham
    b.TextSize = 14
    b.TextColor3 = Color3.fromRGB(20,20,20)
    b.BackgroundColor3 = BTN
    b.BorderSizePixel = 0
    Instance.new("UICorner", b).CornerRadius = UDim.new(0,8)
    b.MouseEnter:Connect(function() b.BackgroundColor3 = BTN_HOVER end)
    b.MouseLeave:Connect(function() b.BackgroundColor3 = BTN end)
    b.Activated:Connect(function() spamPlayer(plr) end)
    return b
end

local function refreshList()
    for _,v in ipairs(list:GetChildren()) do
        if v:IsA("TextButton") or v:IsA("TextLabel") then v:Destroy() end
    end
    section("spam commands").Parent = list
    for _,p in ipairs(Players:GetPlayers()) do
        if p ~= LocalPlayer then
            spamButton(p).Parent = list
        end
    end
    task.wait()
    list.CanvasSize = UDim2.fromOffset(0, layout.AbsoluteContentSize.Y + 10)
end

refresh.MouseButton1Click:Connect(refreshList)
Players.PlayerAdded:Connect(refreshList)
Players.PlayerRemoving:Connect(refreshList)

refreshList()
notify(TITLE_TEXT,"Hub loaded ‚ùÑ‚ú®")
